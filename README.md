# Enpal task
## Description
This is the python class to fulfill Enpal's Python Coding Challenge requirements.

## Prerequisites
You will need Python3 to run this code

## Installation
1. clone the repository
```
$ git clone git@github.com:ttskmnj/enpal_task.git
```
2. change directory to repository root directory
```
$ cd enpal_task
```
3. run `index.py`
```
$ python index
```
This command will excute task a-e in `Enpal` class with following setting
number of engineers: 2
number of customer: 8
engineer_0 visit 5 customers
engineer_1 visit 3 customers
engineer_0 switch 5th visit and 2nd visit
engineer_1 switch 2nd visit and 3rd visit

command result:
```
$ python index.py

# generated distance matrix
[[0, 86, 1, 10, 22, 36, 19, 66, 32, 46], [49, 0, 6, 83, 63, 54, 18, 75, 31, 64], [45, 20, 0, 41, 79, 55, 84, 45, 81, 65], [7, 81, 2, 0, 78, 89, 19, 2, 94, 7], [20, 27, 90, 65, 0, 68, 73, 68, 24, 36], [17, 23, 54, 91, 34, 0, 79, 97, 22, 8], [4, 16, 19, 74, 50, 25, 0, 49, 66, 65], [24, 23, 54, 63, 47, 55, 67, 0, 54, 100], [77, 32, 76, 1, 32, 75, 57, 94, 0, 30], [89, 30, 21, 54, 1, 17, 31, 33, 73, 0]]

# generated the sequence of visits
[[8, 5, 3, 7, 4], [6, 2, 9]]

# calculated distance of travel 
[267, 132]

# changed sequence of visits
# engineer_0: switch 5th visit and 2nd visit
# engineer_1: switch 2nd visit and 3rd visit
[[8, 4, 3, 7, 5], [6, 9, 2]]

# optimized sequence of visits
[[4, 8, 3, 7, 5], [6, 9, 2]]
# optimized total_distance
[121, 124]
```

### class name: Enpal
### atributes
|name|type|description|
|-|-|-|
|engineers|Int|number of engineers|
|customers|Int|number of customers|
|distance|List[ List[ Int, Int ,,, ]]|distance matrix|
|total_distance|List[ int, Int ,,, ]|array of total distance each engineers will vist|
|sequence_of_visits|List[ List[ Int, Int ,,, ]]|array of sequence of visit for each engineers|
|quota|List[ Int,,, ]|array of number of customers which each engineer should visit|

### methods
------------------------------------------------------
#### Private\_\_init\_\_(engineers, customers, quota)
Constructor. Set number of engineers, customer and quota for each engineers. 

Input:
|name|type|required|description|
|-|-|-|-|
|engineers|Int|True|number of engineers|
|customers|Int|True|number of customers|
|quota|List[ Int,,, ]|True|quota for each engineers|
Sum of all quota should be equal to number of customer and length of quota should be equal to number of engineers<br>

Example:
```
# engineer: 2
# customer: 8
# engineer_0 visit 5 customers, engineer_1 visit 3 customers
enpal = Enpal(2, 8, [5, 3])
```

Output: None

------------------------------------------------------
#### Public task_a()
Set random number between 1 - 100 to distance matrix. Distance matrix size will be 2 * (number of engineers + number of customers)  

Input: None

output: None

------------------------------------------------------
#### Public task_b()
Set all customer's location to `sequence_of_visits` randomly. 

Input: None

output: None

------------------------------------------------------
#### Private __calc_distance(eng_idx, sequence_of_visit)
return calculated total distance for given sequence_of_visit.

Input:
|name|type|required|description|
|-|-|-|-|
|eng_idx|Int|True|index number of engineer|
|sequence_of_visit|List[ Int,,, ]|True|sequence of visit for an engineer|

Output:
|type|description|
|-|-|
|Int|total distance for given sequence_of_visit|

------------------------------------------------------
#### Public task_c()
Set total distance visited by all engineers to `total_distance`

Input: None

output: None

------------------------------------------------------
#### Private __change_sequence(sequence_of_visits, route_change)
Return new sequence of visits. New sequence of visits is generated by switching 2 locations in sequence of visits.

example:
```
route_change = [2,6]
original_sequence_of_visits = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# after switching 2 locations
new_sequence_of_visits = [0, 1, 6, 3, 4, 5, 2, 7, 8, 9]

```


Input:
|name|type|required|description|
|-|-|-|-|
|sequence_of_visit|List[ Int,,, ]|True|sequence of visit for an engineer|
|route_change|List[ Int, Int]|True|indexes of 2 locations in sequence of visit|

Output:
|type|description|
|-|-|
|List[ Int,,, ]|sequence of visits after 2 locations are switched|

------------------------------------------------------
#### Public task_d(route_change)
Set new sequence of visits to `sequence_of_visits` 

Input:
|name|type|required|description|
|-|-|-|-|
|route_change|List[ List[ Int, Int] ,,,,,]|True|route changes for all engineers|

output: None

------------------------------------------------------
#### Private __two_opt_swap(sequence_of_visits, route_change)
Return new sequence of visits. New sequence of visits is generated by switching 2 locations in sequence of visits and reverse order between 2 locations.

example:
```
route_change = [2,6]
original_sequence_of_visits = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# after switching 2 locations
new_sequence_of_visits = [0, 1, 6, 5, 4, 3, 2, 7, 8, 9]
```

------------------------------------------------------
#### Public task_e()
Optimize sequence of visits with 2 opt algorithm.

Input: None

output: None